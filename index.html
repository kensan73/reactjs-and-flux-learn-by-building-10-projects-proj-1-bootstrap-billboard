<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Welcome</title>
    <script type="application/javascript" src="js/react.js"></script>
    <script type="application/javascript" src="js/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.js"></script>
    <script src="http://coffeescript.org/v2/browser-compiler/coffeescript.js"></script>
    <script type="text/coffeescript">
        window.learning = ->
            "I am learning coffeescript"
    </script>
    <script type="text/javascript">
      setTimeout(function () {
        console.log(window.learning());
      }, 1000);
    </script>

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
<div id="app"></div>

<script type="text/babel">
  var Navbar = React.createClass({
    propTypes: {
      brand: React.PropTypes.string
    },
    getDefaultProps: function () {
      return {
        brand: 'my generic website',
      }
    },
    render: function () {
      var homeActive = '';
      var aboutActive = '';

      if(this.props.page == 'home'){
        homeActive = 'active';
      }
      else if(this.props.page == 'about'){
        aboutActive = 'active';
      }

      return (
        <div>
          <nav className="navbar navbar-default jumbotron-navbar">
            <div className="container-fluid">
              <div className="navbar-header">
                <button type="button" className="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                  <span className="sr-only">Toggle navigation</span>
                  <span className="icon-bar"></span>
                  <span className="icon-bar"></span>
                  <span className="icon-bar"></span>
                </button>
                <a className="navbar-brand" href="#">{this.props.brand}</a>
              </div>

              <div className="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul className="nav navbar-nav">
                  <li onClick={this.props.homeClick} className={homeActive}><a href="#">Home</a></li>
                  <li onClick={this.props.aboutClick} className={aboutActive}><a href="#">About</a></li>
                </ul>
              </div>
            </div>
          </nav>
        </div>
      )
    }
  });

  var Jumbotron = React.createClass({
    render: function () {
      return (
        <div className="jumbotron">
          <div className="container">
            <h1>Hello, world!</h1>
            <p>This is a template for a simple marketing or informational website. It includes a large callout
              called a jumbotron and three supporting pieces of content. Use it as a starting point to create
              something more unique.</p>
            <p><a className="btn btn-primary btn-lg" href="#" role="button">Learn more &raquo;</a></p>
          </div>
        </div>
      )
    }
  });

  var MainContent = React.createClass({
    render: function () {
      return (
        <div className="container">
          <div className="row">
            Main Content
          </div>
        </div>
      )
    }
  });

  var AboutContent = React.createClass({
    render: function () {
      return (
        <div className="container">
          <div className="row">
            About
          </div>
        </div>
      )
    }
  });

  var Footer = React.createClass({
    render: function () {
      return (
        <div className="container">
          <hr/>
          <footer>
            <p>&copy; 2015 Company, Inc.</p>
          </footer>
        </div>
      )
    }
  });

  var App = React.createClass({
    getInitialState: function () {
      return {
        page: 'home'
      }
    },
    onHomeClick: function () {
      this.setState({
        page: 'home'
      });
    },
    onAboutClick: function () {
      this.setState({
        page: 'about'
      });
    },
    render: function () {
      let mainContent = <MainContent/>;
      let aboutContent = <AboutContent/>;
      let jumbotron = <Jumbotron/>;

      if(this.state.page == 'home'){
        aboutContent = undefined;
      }
      else{
        mainContent = undefined;
        jumbotron = undefined;
      }
      return (
        <div>
          <Navbar
            page={this.state.page}
            homeClick={this.onHomeClick}
            aboutClick={this.onAboutClick}
          />
          {jumbotron}
          {mainContent}
          {aboutContent}
          <Footer/>
        </div>
      )
    }
  });

  ReactDOM.render(
    <App/>
    ,
    document.getElementById('app')
  );
</script>
</body>
</html>